import{s as j,a as B,u as V,g as D,b as M,n as O,r as X}from"../chunks/scheduler.CtbWrGNo.js";import{S as $,i as q,e as b,s as C,c as w,h as x,g as U,f as y,d as m,a as _,b as k,j as g,m as z,n as F,o as A,p as P}from"../chunks/index.DszOhJKM.js";import{b as L}from"../chunks/paths.35zkZ8mo.js";async function G(r,t,e){const{callbackUrl:o=window.location.href,redirect:c=!0}={},s=r==="email",d=`${`${L??""}/auth/signin/${r}`}?${new URLSearchParams(e)}`,i=await fetch(d,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...t,callbackUrl:o})}),v=await i.clone().json();if(c||!s){window.location.href=v.url??o,v.url.includes("#")&&window.location.reload();return}return i}async function H(r){const{callbackUrl:t=window.location.href}=r??{},n=(await(await fetch(`${L??""}/auth/signout`,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({callbackUrl:t})})).json()).url??t;window.location.href=n,n.includes("#")&&window.location.reload()}function J(r){let t,e="Sign In",o,c;return{c(){t=b("button"),t.textContent=e},l(n){t=w(n,"BUTTON",{"data-svelte-h":!0}),U(t)!=="svelte-vdunxk"&&(t.textContent=e)},m(n,s){k(n,t,s),o||(c=A(t,"click",r[6]),o=!0)},p:O,d(n){n&&m(t),o=!1,c()}}}function K(r){let t,e,o,c,n,s=r[1]&&N(r);return{c(){t=b("button"),e=C(),s&&s.c(),o=P(),this.h()},l(l){t=w(l,"BUTTON",{class:!0}),x(t).forEach(m),e=y(l),s&&s.l(l),o=P(),this.h()},h(){_(t,"class","size-12 rounded-full bg-primary")},m(l,u){k(l,t,u),k(l,e,u),s&&s.m(l,u),k(l,o,u),c||(n=A(t,"click",r[4]),c=!0)},p(l,u){l[1]?s?s.p(l,u):(s=N(l),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(l){l&&(m(t),m(e),m(o)),s&&s.d(l),c=!1,n()}}}function N(r){let t,e,o="Settings",c,n,s="Sign Out",l,u;return{c(){t=b("div"),e=b("a"),e.textContent=o,c=C(),n=b("button"),n.textContent=s,this.h()},l(d){t=w(d,"DIV",{class:!0});var i=x(t);e=w(i,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1eu4m3l"&&(e.textContent=o),c=y(i),n=w(i,"BUTTON",{class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1k2xy0y"&&(n.textContent=s),i.forEach(m),this.h()},h(){_(e,"href","/settings"),_(e,"class","rounded p-1.5 hover:bg-[#eee5be]"),_(n,"class","rounded p-1.5 text-left hover:bg-[#eee5be]"),_(t,"class","absolute right-0 m-2 flex w-48 flex-col rounded border p-2 shadow")},m(d,i){k(d,t,i),g(t,e),g(t,c),g(t,n),l||(u=[A(e,"click",r[5]),A(n,"click",H)],l=!0)},p:O,d(d){d&&m(t),l=!1,X(u)}}}function Q(r){let t,e,o="Malosi",c,n,s="About",l,u,d,i,v;function T(a,f){return a[0].session?K:J}let S=T(r),p=S(r);const R=r[3].default,h=B(R,r,r[2],null);return{c(){t=b("nav"),e=b("a"),e.textContent=o,c=C(),n=b("a"),n.textContent=s,l=C(),u=b("div"),p.c(),d=C(),i=b("main"),h&&h.c(),this.h()},l(a){t=w(a,"NAV",{class:!0});var f=x(t);e=w(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(e)!=="svelte-slvn6m"&&(e.textContent=o),c=y(f),n=w(f,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(n)!=="svelte-1mwd5c1"&&(n.textContent=s),l=y(f),u=w(f,"DIV",{class:!0});var E=x(u);p.l(E),E.forEach(m),f.forEach(m),d=y(a),i=w(a,"MAIN",{class:!0});var I=x(i);h&&h.l(I),I.forEach(m),this.h()},h(){_(e,"href","/"),_(e,"class","gradient text-2xl font-semibold"),_(n,"href","/"),_(n,"class","text-2xl"),_(u,"class","ml-auto"),_(t,"class","flex gap-4 p-4"),_(i,"class","mx-auto my-8 w-4/5")},m(a,f){k(a,t,f),g(t,e),g(t,c),g(t,n),g(t,l),g(t,u),p.m(u,null),k(a,d,f),k(a,i,f),h&&h.m(i,null),v=!0},p(a,[f]){S===(S=T(a))&&p?p.p(a,f):(p.d(1),p=S(a),p&&(p.c(),p.m(u,null))),h&&h.p&&(!v||f&4)&&V(h,R,a,a[2],v?M(R,a[2],f,null):D(a[2]),null)},i(a){v||(z(h,a),v=!0)},o(a){F(h,a),v=!1},d(a){a&&(m(t),m(d),m(i)),p.d(),h&&h.d(a)}}}function W(r,t,e){let{$$slots:o={},$$scope:c}=t,{data:n}=t,s=!1;const l=()=>e(1,s=!s),u=()=>e(1,s=!s),d=()=>G("google");return r.$$set=i=>{"data"in i&&e(0,n=i.data),"$$scope"in i&&e(2,c=i.$$scope)},[n,s,c,o,l,u,d]}class et extends ${constructor(t){super(),q(this,t,W,Q,j,{data:0})}}export{et as component};
